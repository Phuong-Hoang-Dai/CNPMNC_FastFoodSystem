@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model FastFoodSystem.WebApp.Models.ViewModel.SanPhamVM

<h1>Create product</h1>

<form method="post" asp-action="Create" asp-controller="Product" enctype="multipart/form-data">

    <div class="form-group type-form" id ="productForm">
        <label>Mã sản phẩm: </label>
        <input asp-for="maSanPham" type="text" class="form-control" />
        <span asp-validation-for="maSanPham" class="text-danger small"></span>

        <label>Tên sản phẩm: </label>
        <input asp-for="tenSanPham" type="text" class="form-control" />
        <span asp-validation-for="tenSanPham" class="text-danger small"></span>

        <label>Ảnh</label>
        <input asp-for="anh" type="text" class="form-control" />
        <span asp-validation-for="anh" class="text-danger small"></span>

        <label>Mô tả: </label>
        <input asp-for="mota" type="text" class="form-control" />
        <span asp-validation-for="mota" class="text-danger small"></span>

        <label>Loại sản phẩm: </label>
        <input asp-for="loaiSanPham" type="text" class="form-control" />
        <span asp-validation-for="loaiSanPham" class="text-danger small"></span>

        <label>Giá</label>
        <input asp-for="gia" type="number" class="form-control" />
        <span asp-validation-for="gia" class="text-danger small"></span>
    </div>

    <div class="form-group exe-form" id="exeform">
        <label for="excelFile">Chọn tệp Excel:</label>
        <input type="file" name="excelFile" id="excelFile" accept=".xlsx" />
    </div>

    <button type="submit" class="btn btn-primary mt-2">Submit</button>
</form>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
        $("#excelFile").change(function () {
            if (this.files.length > 0) {
                $("#productForm").hide();
            }
        });

        $(".form-control").on("input", function () {
            var anyInputFilled = false;

            $(".form-control").each(function () {
                if ($(this).val().trim() !== "") {
                    anyInputFilled = true;
                    return false; // Kết thúc vòng lặp khi có ít nhất một trường có dữ liệu
                }
            });

            if (anyInputFilled) {
                $("#exeform").hide();
            } else {
                $("#exeform").show();
            }
        });
    });
</script>