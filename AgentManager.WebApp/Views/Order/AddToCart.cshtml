@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    string imageUrl = Model.anh;
}
@model FastFoodSystem.WebApp.Models.ViewModel.SanPhamVM
<div class="row d-flex justify-content-between align-items-center mt-4">
    <div class="col-md-2 col-lg-2 col-xl-2">
        @if (imageUrl == "")
        {
            <img src="https://static.kfcvietnam.com.vn/images/category/lg/GA.jpg?v=3GWGD3"
                 class="img-thumnail w-100 rounded" />
        }
        else
        {
            <img src="@Html.DisplayFor(model => model.anh)"
                 class="img-thumnail w-100 rounded" />
        }
    </div>
    <div class="col-md-3 col-lg-3 col-xl-3">
        <p class="lead fw-normal mb-2">@Html.DisplayFor(model => model.tenSanPham)</p>
        <p>Price: @Html.DisplayFor(model => model.gia)</p>
    </div>
    <div class="col-md-7 col-lg-3 col-xl-2 d-flex">
        <input id="form1" min="0" name="quantity" value="2" type="number"
               class="form-control form-control-sm" />

        <button class="btn btn-outline-success ms-3 px-2" id="addToCartButton">
            Thêm
        </button>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#addToCartButton").click(function () {
            var productId = "@Model.maSanPham";
            var quantity = $("#form1").val();

            // Thực hiện AJAX request để thêm sản phẩm vào giỏ hàng.
            $.ajax({
                url: "/Order/AddToCart",
                method: "POST",
                data: { productId: productId, quantity: quantity },
                success: function () {
                    console.log(
                        "Success"
                    )
                    // Xử lý sau khi sản phẩm đã được thêm vào giỏ hàng, nếu cần.
                    // Ví dụ: cập nhật thông tin giỏ hàng trên trang AddToCart.
                }
            });
        });
    });
</script>
